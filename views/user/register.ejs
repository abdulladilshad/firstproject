<link rel="stylesheet" href="../styles/userlogin.css" />

<div class="login-box">
  <h2>Sign Up</h2>

  <h4 id="message"><%=message%></h4>
  <form action="/register" method="post" id="form">

    <div class="user-box">
      <input type="email" name="email" id="email" style="color: #ffff;"/>
      <label >Email</label>
    </div>
    <div class="user-box">
      <input type="password" name="password" id="password" style="color: #ffff;" />
      <label>Password</label>
    </div>
    <div class="user-box">
      <input type="password" name="confirmpassword" id="confirmpassword" style="color: #ffff;" />
      <label>Confirm Password</label>
    </div>
    <div class="submit">
      <button type="submit" >Submit</button>
    </div>
    <a href="/login" class="submitt">Go to Login</a>
    <div class="gbutton">
      <a href="/auth/google" target="_blank" class="sing">
        <button type="button">
          <img src="/images/Google_Icons-09-512.png" alt="GOOGLE">
          Sign in with Google
        </button>
      </a>
      
    </div>
    
  </form>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelector('form').addEventListener('submit', formvalidate);
  });

  function formvalidate(e) {
    e.preventDefault();

    var email = document.getElementById('email').value;
    var password = document.getElementById('password').value;
    var confirmpassword = document.getElementById('confirmpassword').value;

    if (email === "" || password === "" || confirmpassword === "") {
      alert("All fields are required");
      return false;
    } else if (password !== confirmpassword) {
      alert("Passwords do not match");
      return false;
    }

    e.target.submit();
    return true;
  }
</script>